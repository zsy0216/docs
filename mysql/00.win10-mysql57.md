# Win10ä¸‹MySql5.7çš„å®‰è£…ä¸é…ç½®

## ä¸‹è½½

[å®˜ç½‘ä¸‹è½½åœ°å€](https://dev.mysql.com/downloads/mysql/)

é€‰æ‹©å…å®‰è£…ç‰ˆå³å¯ï¼Œ

![](https://zsy0216.github.io/image/notes/20191210102827.png)

![](https://zsy0216.github.io/image/notes/20191210102827.png)

## è§£å‹

å°†ä¸‹è½½çš„å‹ç¼©åŒ…è§£å‹åˆ°ä½ æƒ³è¦æ”¾ç½®MySQLçš„ç›®å½•ï¼Œé¿å…ä¸­æ–‡ç©ºæ ¼ã€‚

ç¤ºä¾‹ï¼š`D:\devtools\mysql-5.7.28-winx64`

## é…ç½®

### å®‰è£…mysqlæœåŠ¡

- åœ¨å®‰è£…ç›®å½•ä¸­çš„binç›®å½•ä¸‹ä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€cmdçª—å£ï¼Œå®‰è£…mysqlæœåŠ¡ã€‚

  å‘½ä»¤ï¼š`mysqld --install`

  ![](https://zsy0216.github.io/image/notes/20191210105425.png)

### åˆå§‹åŒ–mysql

- åˆå§‹åŒ–ä¼šç”Ÿæˆä¸€ä¸ªéšæœºå¯†ç ï¼Œè¿™é‡Œéœ€è¦è®°ä½è¿™ä¸ªå¯†ç ï¼Œæ–¹ä¾¿ä¹‹åç™»å½•mysqlè¿›è¡Œä¿®æ”¹ã€‚

  å‘½ä»¤ï¼š`mysqld --initialize --console`

  ![](https://zsy0216.github.io/image/notes/20191210110058.png)

### å¯åŠ¨mysqlæœåŠ¡

- ç™»å½•mysqlä¹‹å‰ï¼Œéœ€è¦å¯åŠ¨ä¹‹å‰å®‰è£…çš„æœåŠ¡ã€‚

  å‘½ä»¤ï¼š`net start MySql`

  ![](https://zsy0216.github.io/image/notes/20191210110404.png)

### ç™»å½•

- ç™»å½•mysqlå¯ä»¥éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼Œè¿™é‡Œç™»å½•æ—¶çš„ç”¨æˆ·åä¸ºrootï¼Œå¯†ç ä¸ºåˆšæ‰åˆå§‹åŒ–ç”Ÿæˆçš„éšæœºå¯†ç ï¼Œåˆšæ‰åº”è¯¥å·²ç»è®°å½•ã€‚

  å‘½ä»¤ï¼š`mysql -uroot -`

  ![](https://zsy0216.github.io/image/notes/20191210110835.png)

è¿™ä¸ªæ—¶å€™å‘ç°ç™»å½•ä¸ä¸Šå»ã€‚ã€‚

æŠ¥é”™ä¿¡æ¯ï¼š

```shell
Enter password: ************
ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)
```

**è§£å†³æ–¹æ¡ˆï¼š**

1. é¦–å…ˆåœæ­¢MySQLæœåŠ¡ï¼Œä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€cmdçª—å£ï¼Œè¾“å…¥`net stop mysql`
2. åœæ­¢æˆåŠŸåï¼Œæ‰¾åˆ°mysqlçš„å®‰è£…ç›®å½•ï¼Œåˆ é™¤dataæ–‡ä»¶å¤¹
3. åœ¨mysqlå®‰è£…è·¯å¾„ä¸‹çš„binç›®å½•ä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š`mysqld --initialize --console`,è¿™ä¸€æ­¥ä¼šåœ¨æœ€åç”Ÿæˆä¸€ä¸ªéšæœºåˆå§‹å¯†ç ï¼Œå…ˆè®°ä½ä¸‹ä¸€æ­¥ç™»å½•æ—¶ç”¨
4. ç°åœ¨å¯åŠ¨MySQLæœåŠ¡ï¼š`net start mysql`
5. ç™»å½•mysqlï¼š `mysql -uroot -p********`ï¼Œ*ä»£è¡¨ç¬¬3æ­¥ç”Ÿæˆçš„éšæœºå¯†ç 
6. è¿™æ—¶å‘ç°ç™»å½•æˆåŠŸï¼Œä¹‹åä¿®æ”¹å¯†ç ï¼Œä½¿ç”¨åˆå§‹å¯†ç ç™»å½•çš„mysqlæ²¡æœ‰å¯¹æ•°æ®åº“çš„ä»»ä½•æƒé™

**ä¿®æ”¹å¯†ç **

```shell
mysql> alter user 'root'@'localhost' identified by 'æ–°å¯†ç ';
mysql> quit
```

é‡æ–°ç™»å½•ï¼Œå³å¯æ­£å¸¸ä½¿ç”¨mysqlæ•°æ®åº“

è‡³æ­¤ï¼ŒMySQL5.7çš„å®‰è£…ä¸é…ç½®å·²ç»å®Œæˆã€‚

## è®¾ç½®å…¨å±€ç¯å¢ƒå˜é‡

å³é”®æ­¤ç”µè„‘ğŸ‘‰ç‚¹å‡»å·¦ä¾§é«˜çº§ç³»ç»Ÿè®¾ç½®ğŸ‘‰ç‚¹å‡»æœ€ä¸‹é¢çš„ç¯å¢ƒå˜é‡ğŸ‘‰ä¸‹é¢ç³»ç»Ÿå˜é‡ä¸­æ‰¾åˆ°pathğŸ‘‰ç‚¹å‡»ä¸‹é¢çš„ç¼–è¾‘æŒ‰é’®ğŸ‘‰ç‚¹å‡»å³ä¾§æ–°å»ºğŸ‘‰å°†mysqlçš„binç›®å½•åœ°å€å¤åˆ¶è¿›å»ï¼ˆ`D:\devtools\mysql-5.7.28-winx64\bin`ï¼‰

![](https://zsy0216.github.io/image/notes/20191210114152.png)

# è¡¥å……

æ‰‹åŠ¨åˆ›å»ºmy.inié…ç½®æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¯ä»¥æŒ‡å®šæ•°æ®åº“é»˜è®¤çš„å­—ç¬¦ç¼–ç ï¼Œé˜²æ­¢æ’å…¥æ•°æ®æ—¶çš„ä¸­æ–‡ä¹±ç é—®é¢˜ã€‚

è¯¥æ–‡ä»¶å­˜æ”¾åœ¨mysqlçš„å®‰è£…è·¯å¾„ï¼Œå³ï¼š`D:\devtools\mysql-5.7.28-winx64`

```ini
[mysql]  
# è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†  
default-character-set=utf8  
[mysqld]  
#è®¾ç½®3306ç«¯å£  
port = 3306  
# è®¾ç½®mysqlçš„å®‰è£…ç›®å½•  
basedir=D:\devtools\mysql-5.7.28-winx64
# è®¾ç½®mysqlæ•°æ®åº“çš„æ•°æ®çš„å­˜æ”¾ç›®å½•  
datadir=D:\devtools\mysql-5.7.28-winx64\data 
# å…è®¸æœ€å¤§è¿æ¥æ•°  
max_connections=200  
# æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸º8æ¯”ç‰¹ç¼–ç çš„latin1å­—ç¬¦é›†  
character-set-server=utf8  
# åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“  
default-storage-engine=INNODB
#å¼€å¯æŸ¥è¯¢ç¼“å­˜
explicit_defaults_for_timestamp=true
skip-grant-tables
```

åˆ›å»ºå®Œæˆåï¼Œéœ€è¦é‡æ–°å¯åŠ¨mysqlæœåŠ¡

```shell
net stop mysql
net start mysql
```

ä¹‹åå†åˆ›å»ºçš„æ•°æ®åº“è¡¨çš„ç¼–ç å°±å·²ç»è¢«æŒ‡å®šäº†ã€‚